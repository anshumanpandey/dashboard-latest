@model NHS.Common.DTO.COVIDTestResultsComplexDTO

@{
    /**/

    ViewBag.Title = "COVID 19 Test Results";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .square {
        height: 30px;
        width: 100px;
        background-color: forestgreen;
    }
</style>
<br />
<br />
<div class="row form-group">
    <div class="col-xs-12 col-lg-12">
        <div class="row" align="right">
            <div class="col-md-12">
                <input type="image" src="~/images/Delete.png" width="30" height="30" alt="Submit" id="btnClose1" title="Close" />
            </div>
        </div>
    </div>
</div>
@using (Html.BeginForm("COVIDTestResults", "Home", FormMethod.Post, new { @id = Model.TestResults.Test_ID, @patientID = Model.TestResults.PatientID }))
{
    @Html.Hidden("hdnPatientID", Model.TestResults.PatientID);
<div class="lable_title">
    <h2>Test &amp; Results</h2>
</div><br />
<table width="99%" border="0" cellspacing="0" cellpadding="0">
    <tr>
        <td>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td width="54%" align="left" valign="top">
                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                            <tr>
                                <td>
                                                                        @if (ViewBag.IsReadOnly)
                                                                        {
                                                                            if (string.IsNullOrEmpty(Model.TestResults.UpdatedBy))
                                                                            {


<table width="100%" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td width="45%">COVID status Known prior to admission?</td>
                                            <td width="3%">&nbsp;</td>
                                            <td width="8%">
                                                <input type="checkbox" disabled name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                <label for="checkbox">Yes</label>
                                            </td>
                                            <td width="50%">
                                                <input type="checkbox" disabled name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                <label for="checkbox">No</label>
                                            </td>
                                        </tr>
                                    </table>
                                                                            }
                                                                            else if (Model.TestResults.COVIDStatusKnown)
                                                                            {
                                                                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td width="45%">COVID status Known prior to admission?</td>
                                                <td width="3%">&nbsp;</td>
                                                <td width="8%">
                                                    <input type="checkbox" checked disabled name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                    <label for="checkbox">Yes</label>
                                                </td>
                                                <td width="50%">
                                                    <input type="checkbox" disabled name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                    <label for="checkbox">No</label>
                                                </td>
                                            </tr>
                                        </table>
                                                                            }
                                                                            else if (!Model.TestResults.COVIDStatusKnown)
                                                                            {
                                                                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td width="45%">COVID status Known prior to admission?</td>
                                                <td width="3%">&nbsp;</td>
                                                <td width="8%">
                                                    <input type="checkbox"  disabled name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                    <label for="checkbox">Yes</label>
                                                </td>
                                                <td width="50%">
                                                    <input type="checkbox" checked disabled name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                    <label for="checkbox">No</label>
                                                </td>
                                            </tr>
                                        </table>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            if (string.IsNullOrEmpty(Model.TestResults.UpdatedBy))
                                                                            {
                                                                               <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="45%">COVID status Known prior to admission?</td>
                                                    <td width="3%">&nbsp;</td>
                                                    <td width="8%">
                                                        <input type="checkbox" name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                        <label for="checkbox">Yes</label>
                                                    </td>
                                                    <td width="50%">
                                                        <input type="checkbox" name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                        <label for="checkbox">No</label>
                                                    </td>
                                                </tr>
                                            </table>
                                                                            }
                                                                            else if (Model.TestResults.COVIDStatusKnown)
                                                                            {
                                                                               <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="45%">COVID status Known prior to admission?</td>
                                                    <td width="3%">&nbsp;</td>
                                                    <td width="8%">
                                                        <input type="checkbox" checked name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                        <label for="checkbox">Yes</label>
                                                    </td>
                                                    <td width="50%">
                                                        <input type="checkbox" disabled name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                        <label for="checkbox">No</label>
                                                    </td>
                                                </tr>
                                            </table>
                                                                            }
                                                                            else if (!Model.TestResults.COVIDStatusKnown)
                                                                            {
                                                                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td width="45%">COVID status Known prior to admission?</td>
                                                    <td width="3%">&nbsp;</td>
                                                    <td width="8%">
                                                        <input type="checkbox" disabled name="COVIDStatusKnown1" id="COVIDStatusKnown1" />
                                                        <label for="checkbox">Yes</label>
                                                    </td>
                                                    <td width="50%">
                                                        <input type="checkbox" checked name="COVIDStatusKnown2" id="COVIDStatusKnown2" />
                                                        <label for="checkbox">No</label>
                                                    </td>
                                                </tr>
                                            </table>
                                        }
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td width="15%">Test Result</td>
                                            <td width="4%">&nbsp;</td>
                                            <td width="81%">
@if (ViewBag.IsReadOnly)
{
    if (!string.IsNullOrEmpty(Model.TestResults.TestResult))
    {
                                                <select style="margin:14px 0 17px 0;" disabled class="form-control" id="ddlTestResult" name="ddlTestResult">
                                                    <option value="">Please Select</option>
                                                    @foreach (var item in ViewBag.TestResults)
                                                    {
                                                        if (item.TestResult == Model.TestResults.TestResult)
                                                        {
                                                            <option selected value="@item.TestResult">@item.TestResult</option>
                                                        }
                                                        else
                                                        {
                                                            <option selected value="@item.TestResult">@item.TestResult</option>
                                                        }
                                                    }
                                                </select>
    }
    else
    {
        <select style="margin:14px 0 17px 0;" disabled class="form-control" id="ddlTestResult" name="ddlTestResult">
            <option selected value="">Please Select</option>
            @foreach (var item in ViewBag.TestResults)
            {
                <option selected value="@item.TestResult">@item.TestResult</option>
            }
        </select>
    }
}
else
{
    if (string.IsNullOrEmpty(Model.TestResults.TestResult) || Model.TestResults.TestResult.ToUpper().Equals("PENDING") 
        || Model.TestResults.TestResult.ToUpper().Equals("NOT DETECTED") || Model.TestResults.TestResult.ToUpper().Equals("COLD"))
    {
        <select style="margin:14px 0 17px 0;" class="form-control" id="ddlTestResult" name="ddlTestResult">
            <option value="">Please Select</option>
            @foreach (var item in ViewBag.TestResults)
            {
                if (item.TestResult == Model.TestResults.TestResult)
                {
                    <option selected value="@item.TestResult">@item.TestResult</option>
                }
                else
                {
                    <option value="@item.TestResult">@item.TestResult</option>
                }
            }
        </select>
    }
    else
    {
            <select style="margin:14px 0 17px 0;" disabled class="form-control" id="ddlTestResult" name="ddlTestResult">
                <option selected value="">Please Select</option>
                @foreach (var item in ViewBag.TestResults)
                {
                    if (item.TestResult == Model.TestResults.TestResult)
                    {
                        <option selected value="@item.TestResult">@item.TestResult</option>
                    }
                    else
                    {
                        <option value="@item.TestResult">@item.TestResult</option>
                    }
                }
            </select>
    }
}
</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td width="15%">Order Date</td>
                                            <td width="4%">&nbsp;</td>
                                            <td width="81%">@Model.TestResults.OrderDateTime</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="4%" align="left" valign="top">&nbsp;</td>
                    <td width="42%" align="left" valign="top">
                        <table style="border-collapse:separate;border:solid black 1px;border-radius:6px; -moz-border-radius:6px; border-color:#a9d7cc;" width="100%">
                            <tbody>
                                <tr style="border-collapse:separate;border:solid black 1px;border-radius:6px; -moz-border-radius:6px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px" width="40%"><b>Patient ID</b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.PatientID </td>
                                </tr>
                                <tr style="border-collapse:separate;border:solid black 1px;border-radius:6px; -moz-border-radius:6px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px"><b>Patient Name</b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.PatientName</td>

                                </tr>
                                <tr style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px"><b>Test Result</b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.TestResult</td>
                                </tr>
                                <tr style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px"><b>Age </b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.Age</td>
                                </tr>
                                <tr style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px"><b>Gender</b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.Gender</td>
                                </tr>
                                <tr style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc">
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px"><b>Spell Number</b></td>
                                    <td style="border-left:solid black 1px; border-top:solid black 1px; border-color:#a9d7cc; padding:2px 5px;  font-size:14px">@Model.TestResults.SpellNumber</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td>Comment :</td>
                </tr>
                <tr>
                    <td>
@if (ViewBag.IsReadOnly)
{
                        @Html.TextAreaFor(model => model.TestResults.Comments, 5, 50, new { @class = "form-control", @readonly = true })
}
else
{
    @Html.TextAreaFor(model => model.TestResults.Comments, 5, 50, new { @class = "form-control" })
}
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
if (!string.IsNullOrEmpty(Model.TestResults.UpdatedBy))
{
<div class="row">
    <div class="col-md-12">
        <div class="row_bar">
            <span><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updated By:</b>&nbsp;</span>
            <span><b><i>@Model.TestResults.UpdatedBy</i></b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span><b>Updated Date:</b>&nbsp;</span>
            <span><b><i>@Model.TestResults.UpdatedDate</i></b></span>
        </div>
    </div>
</div>
}

<div class="pull-right">
@if (ViewBag.IsReadOnly)
{
    <button id="BtnNext" disabled="" type="submit" name="BtnNext" class="btn btn-primary btn-lg">Save</button>
    <button id="btnSave" disabled="" name="btnSave" class="btn btn-primary btn-lg">Exit</button>
}
else
{
    <button id="BtnNext" type="submit" name="BtnNext" class="btn btn-primary btn-lg">Save</button>
    <span id="btnSave"  name="btnSave" class="btn btn-primary btn-lg">Exit</span>
}
</div>
}
<br /><br />

<h2 style="font-size: 17px; margin-bottom: 20px; color: #70a397; font-weight: 600;">Test History</h2>
<div class="row">
<div class="col-md-12">
    <div style="width:98%;">
        <table class="stripe row-border order-column" style="overflow:auto;" id="tblPatientDetails">
            <thead>
                <tr bgcolor="#a9d7cc" style="color:black;  font-size:11px;">
                    <th align="left" width="8%" style="">Encounter Type</th>
                    <th align="left" width="10%" style="">Order DateTime</th>
                    <th align="left" width="5%" style="">Order Status</th>
                    <th align="left" width="8%" style="">Test Result</th>
                    <th align="left" width="10%" style="">Result DateTime</th>
                    <th align="left" width="17%" style="">Clinical Display</th>
                    <th align="left" width="15%" style="">COVID EDL Diagnosis</th>
                    <th align="left" width="15%" style="">COVID EDL Problem</th>
                    <th align="left" width="4%" style="">Notified</th>
                    <th align="left" width="4%" style="text-align:center;">DQ</th>
                    <th align="left" width="4%" style="">Status</th>
                </tr>
            </thead>
            <tbody style="font-size:11px;padding:0px;">
                @if (Model.LstTestHistory.Count > 0)
                {
                    foreach (var item in Model.LstTestHistory)
                    {
                        <tr class="Entries">                            
                            <td align="left">&nbsp;&nbsp;@item.Encounter_Type_Des.Trim()</td>
                            <td align="left" style="">@item.OrderDateTime</td>
                            @if (item.TestStatus.ToUpper().Trim() == "COMPLETED")
                            {
                                <td align="left" style="color:#52d26a">&nbsp;&nbsp;@item.TestStatus</td>
                            }
                            else if (item.TestStatus.ToUpper().Trim() == "CANCELLED" || item.TestStatus.ToUpper().Trim() == "DISCONTINUED")
                            {
                                <td align="left" style="color:#ff2e37">&nbsp;&nbsp;@item.TestStatus</td>
                            }
                            else
                            {
                                <td align="left" style="color:#fec600">&nbsp;&nbsp;@item.TestStatus</td>
                            }
                            <td align="left">@item.TestResult</td>
                            @if (string.IsNullOrEmpty(item.TestResultDateTime))
                            {
                                <td align="left" style="">&nbsp;&nbsp;&nbsp;&nbsp;Pending</td>
                            }
                            else
                            {
                                <td align="left" style="">@item.TestResultDateTime</td>
                            }
                            <td align="left">@item.Clinical_Display_Line.Trim()</td>
                            <td align="left">@item.COVID_Diagnosis.Trim()</td>
                            <td align="left">@item.COVID_Problem.Trim()</td>
                            @if (item.Notified == 0)
                            {
                                <td align="center"><img src="~/images/GeryImg.png" width="18" height="18" title="Pending"></td>
                            }
                            else if (item.Notified == 2)
                            {
                                <td align="center"><img src="~/images/RedC.png" width="18" height="18" title="No"></td>
                            }
                            else if (item.Notified == 3)
                            {
                                <td align="center"><img src="~/images/GreenCircle.png" width="18" height="18" title="Yes"></td>
                            }
                            @if (item.DQ == 0)
                            {
                                <td align="center"><img src="~/images/GeryImg.png" width="18" height="18" title=""></td>
                            }
                            else if (item.DQ == 1)
                            {
                                <td align="center"><img src="~/images/amber.png" width="18" height="18" title="Cancelled/Discontinued"></td>
                            }
                            else if (item.DQ == 2)
                            {
                                <td align="center"><img src="~/images/RedC.png" width="18" height="18" title="Multiple Tests and Pending 5 days or more"></td>
                            }
                            else if (item.DQ == 3)
                            {
                                <td align="center"><img src="~/images/purple.png" width="18" height="18" title="Result with No Order"></td>
                            }
                            else if (item.DQ == 4)
                            {
                                <td align="center"><img src="~/images/GreenCircle.png" width="18" height="18" title="Order with Result"></td>
                            }
                            @if (item.IsDisabled)
                            {
                                <td align="center" style="color:#ff2e37"><b>Inactive</b></td>
                            }
                            else
                            {
                                <td align="left" style="color:#52d26a">&nbsp;&nbsp;&nbsp;<b>Active</b></td>
                            }
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="14" class="text-center" align="center">No Records Found.</td>
                    </tr>
                }
            </tbody>
        </table>
		</div>
    </div>
</div>

<div class="modal fade" id="modelClose1">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Message</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">

                <div class="form-section" style="text-align:left">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row_bar">
                                <div>Do you want to exit without saving your changes?</div>
                            </div>
                        </div>


                        @*<div class="col-md-12">
                                <div class="row_bar">
                                    <div><input type="checkbox" id="QAPReview" name="QAPReview" checked disabled="disabled"><span>Review Completed?</span>?</div>
                                </div>
                            </div>*@
                        <br />
                        <br />
                            <div class="col-md-4">
                                <button type="button" class="btn btn-primary btn-block" id="btnModelClose1" data-dismiss="modal" formmethod="post" onclick="location.href='@Url.Action("COVIDReviewCycle", "Home", new { id = Model.TestResults.Test_ID, patientID = Model.TestResults.PatientID })'">Yes</button>
                            </div>
                                <div class="col-md-4">
                                    <button type="submit" class="btn btn-primary btn-block" name="btnCloseYes" id="btnCloseYes">No</button>
                                </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modelCloseNext">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Message</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-section" style="text-align:left">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row_bar">
                                <div>Do you want to exit without saving your changes?</div>
                            </div>
                        </div>
                        <br />
                        <br />
                        <div class="col-md-4">
                            <button type="button" class="btn btn-primary btn-block" id="btnModelClose2" data-dismiss="modal" formmethod="post" onclick="location.href='@Url.Action("COVIDReviewCycle", "Home", new { id=Model.TestResults.Test_ID, patientID = Model.TestResults.PatientID })'">Yes</button>
                        </div>
                        <div class="col-md-4">
                            <button type="submit" class="btn btn-primary btn-block" name="btnCloseYes2" id="btnCloseYes2">No</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        //$('#dvPatientDetailsCimment').hide();
        $("#myBtnProcedures").click(function () {
            $("#myModalProcedures").modal();
        });
        $("#myBtnSecondaryDiagnoses").click(function () {
            $("#myModalSecondaryDiagnoses").modal();
        });
        $("#btnClose1").click(function () {
            $("#modelClose1").modal();
        });
        //$("#BtnNext").click(function (event) {
        //    if (!confirm('Are you sure that you want to submit the form'))
        //        event.preventDefault();
        //});
    });
</script>
<script type="text/javascript">
$(function () {
    $("#btnModelClose1").click(function(){
window.location.href = "@Url.Action("COVIDReviewCycle", "Home", new { id = Model.TestResults.Test_ID, patientID = Model.TestResults.PatientID })";
    });
});
</script>
<script>
        $(document).ready(function () {
            $("#btnCloseYes").click(function () {
                $("#modelClose1").modal('hide');
            });
            $("#btnSave").click(function () {
                $("#modelCloseNext").modal();
            });
        });
</script>
<script>
    $(document).ready(function () {
        $('#tblPatientDetails').DataTable(
            {

                "ordering": true,
                "paging": true,
                "searching": true,
                "pageLength": 10,
                "order": [[1, "desc"]],
                "aoColumns": [                    
                    { "sName": "Encounter_Type_Des", "sTitle": "Encounter Type", "bSortable": "true" },
                    { "sName": "OrderDateTime", "sTitle": "Order DateTime", "sType": "date-uk", "bSortable": "true" },
                    { "sName": "TestStatus", "sTitle": "Order Status", "sType": "date", "bSortable": "true" },
                    { "sName": "TestResult", "sTitle": "Test Result", "bSortable": "true" },
                    { "sName": "TestResultDateTime", "sTitle": "Result DateTime", "bSortable": "true" },
                    { "sName": "Clinical_Display_Line", "sTitle": "Clinical Display", "bSortable": "true" },
                    { "sName": "COVID_Diagnosis", "sTitle": "COVID EDL Diagnosis", "bSortable": "true" },
                    { "sName": "COVID_Problem", "sTitle": "COVID EDL Problem", "bSortable": "true" },
                    { "sName": "Notified", "sTitle": "Notified?", "bSortable": "true" },
                    { "sName": "DQ", "sTitle": "DQ", "bSortable": "true" },
                    { "sName": "IsDisabled", "sTitle": "Record Status", "bSortable": "true" }
                ],
                "lengthMenu": [
                    [10, 20, 50, 100, -1],
                    ['10 rows', '20 rows', '50 rows', '100 rows', 'Show all']],
                "scrollX": true
                //language: '<a href="Home/PatientDetails/' + 1 + '">Add new patient</a>'
                //"language": {
                //    "emptyTable": '<a href="Home/PatientDetails/' + 1 + '">Add new patient</a>'
                //    //"zeroRecords": '<a href="Home/PatientDetails/' + 1 + '">Add new patient</a>'
                //},
                //"scrollY": true,

                //"columnDefs": [{ "targets": 4, "type": "date-eu" }],
            });


    });
</script>
<script>
    $(document).ready(function () {
        $("#COVIDStatusKnown1").click(function () {
            if ($(this).is(":checked")) {
                $("#COVIDStatusKnown2").prop("disabled", true);
            }
            else {
                $("#COVIDStatusKnown2").prop("disabled", false);
            }
        });
        $("#COVIDStatusKnown2").click(function () {
            if ($(this).is(":checked")) {
                $("#COVIDStatusKnown1").prop("disabled", true);
            }
            else {
                $("#COVIDStatusKnown1").prop("disabled", false);
            }
        });
    });
</script>
<script>
    $(document).ready(function () {
        $("#btnCloseYes").click(function () {
            $("#modelClose1").modal('hide');
        });
        $("#btnCloseYes2").click(function () {
            $("#modelCloseNext").modal('hide');
        });
    });
</script>
<script>
    $(document).ready(function () {
        $("#BtnNext").click(function () {
            //alert("")
            if ($.trim($("#ddlTestResult").val()) == "" || $.trim($("#ddlTestResult").val().toUpperCase()) == "PENDING") {
                alert("Test Result cannot be blank or Pending.");
                return false;

            }
        });
    });
</script>

